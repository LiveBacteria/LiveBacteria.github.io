<!DOCTYPE html>
<html>
<head>
  <title>DVIR Viewer+</title>
  <!-- Unknown Script Commented - Possibly Date.JS
  <script src="https://doc-0k-6g-docs.googleusercontent.com/docs/securesc/77gdpvi38k94jj7nmfcm2n3tq7a0ifhu/ehjuusajghqnne5r2ncfvj30cmbll20p/1545105600000/17500114768188980350/17500114768188980350/1CDff-uWGahZX7aLt6WQfV1-R5PFHwiK8?e=download&nonce=52qkphatg2scm&user=17500114768188980350&hash=3uc9iql9m90vcrv3a7mhg8fdjce1b4fe.js"></script>
  -->
  <!-- Firebase -->

  <script src="https://www.gstatic.com/firebasejs/3.2.0/firebase.js"></script>
  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-app.js"></script>

  <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

  <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-auth.js"></script>

  <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-analytics.js"></script>

  <script>
    function assignScript(){
      var head = document.getElementsByTagName('head')[0];
      var js = document.createElement("script");

      let windowURL = window.location.href,
              checkURL = "wip",
              checkURL2 = "livebacteria";

      js.type = "text/javascript";
      windowURL = windowURL.toLowerCase();

      if(windowURL.indexOf(checkURL) !== -1 || windowURL.indexOf(checkURL2) === -1){
        if(confirm("This is not a native, recognized, or supported URL.\nContinue anyways?")){
          js.src = "https://livebacteria.github.io/WIP_WebAppScript.js";
          $("[rel='stylesheet']").attr("href","https://livebacteria.github.io/CleanStyle.css");
          setTimeout(() => {
            devModeToggle();
          },1000);
        }else{
          js.src = "/WIP_WebAppScript.js";
        }
      }else{
        js.src = "/WebAppScript.js";
      }
      head.appendChild(js);
    }
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyDhHclB-wwbaUH6T_YlE-7bayCTDL77x2w",
      authDomain: "cleanharbors-database.firebaseapp.com",
      databaseURL: "https://cleanharbors-database.firebaseio.com",
      projectId: "cleanharbors-database",
      storageBucket: "cleanharbors-database.appspot.com",
      messagingSenderId: "148816321902",
      appId: "1:148816321902:web:0b8a4cc34d36401a81757f",
      measurementId: "G-1NRZ5T30T6"
    };

    var uiConfig = {
      callbacks: {
        signInSuccessWithAuthResult: function(authResult, redirectUrl) {
          assignScript();
          // User successfully signed in.
          // Return type determines whether we continue the redirect automatically
          // or whether we leave that to developer to handle.
          return true;
        },
        uiShown: function() {
          // The widget is rendered.
          // Hide the loader.
          document.getElementById('loader').style.display = 'none';
        }
      },
      // Will use popup for IDP Providers sign-in flow instead of the default, redirect.
      signInFlow: 'popup',
      //signInSuccessUrl: '<url-to-redirect-to-on-success>',
      signInOptions: [
        firebase.auth.GoogleAuthProvider.PROVIDER_ID,
        firebase.auth.GithubAuthProvider.PROVIDER_ID,
      ],
      // Terms of service url.
      //tosUrl: '<your-tos-url>',
      // Privacy policy url.
      //privacyPolicyUrl: '<your-privacy-policy-url>'
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
    var ui = new firebaseui.auth.AuthUI(firebase.auth());
    ui.start('#firebaseui-auth-container', uiConfig);
  </script>



  <!-- JQuery 1.8.3 -->
  <script src="https://code.jquery.com/jquery-1.8.3.js"></script>
  <!-- JSX - BABEL min -->
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <!-- WebApp Script
  <script src="/WebAppScript.js"></script>
  -->
  <!-- Script Selector -->
  <script>

  </script>
  
  <!-- Stylesheet Link -->
  <link href="/CleanStyle.css" rel="stylesheet" />
  <link rel="icon" type="image/png" href="/crane.png"/>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>DLRV+ - About</title>
</head>
<body>
  <div id="Main" draggable="false">
    <img id="logo" src="logo.png" alt="freeApp logo" draggable="false" class="unselectable" />
    <div id="appContainer">
      <button id="startAppDVIR" class="dvirButton" tabindex="1">Load DVIRs</button>
      <input type="checkbox" id="loadInsideCheckbox" title="Check to load DVIRs inside this page.">
      <input type="text" id="dvirLogInputs" value="Log Numbers" tabindex="0" />
      <button id="clearFramesBtn" class="dvirButton" tabindex="3" >Clear</button>
    </div>
    <div>
      <span id="generalInfo">
        <p class="unselectable">
          Loading more than 5 in a single process may cause most computers to freeze or become unresponsive for a prolonged amount of time.
        </p>
      </span>
      <span>
        <p id="alert" class="unselectable">
          This app should only be used when the internal DVIR web app for Clean Harbors is not, (a) efficient, (b) correctly loading or displaying, (c) producing a desired result. As this code, and or app, is not licensed by &copyClean Harbors or any affilitate company, any data passed into this application can not be confirmed to be secure other than by the technologies provided passively by <a href="https://pages.github.com" target="_blank">&copyGithub Pages</a>, and programmaticaly implemented features by <a href="https://livebacteria.github.io/" target="_blank">&copyTyler Poore</a>.
        </p>
      </span>
      <span id="frameContainer">
        
      </span>
    </div>
    <!-- The surrounding HTML is left untouched by FirebaseUI.
     Your app may use that space for branding, controls and other customizations.-->
    <h1>Verification</h1>
    <div id="firebaseui-auth-container"></div>
    <div id="loader">Loading...</div>
  </div>

  <footer>
    <p class="footNotation unselectable">All Rights Reserved. Released under the MIT license. Copyright Tyler Poore 2019, created for general use Clean Harbors&copy; in-house. Logos and Images used are owned, and or managed by Clean Harbors&copy;.<br>AppVersion 0.0.0r</p>
  </footer>
</body>
</html>